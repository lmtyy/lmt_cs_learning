好的，我们来详细讲解一下 C++ 标准库中 `vector` 的构造函数。`vector` 是一个非常灵活的动态数组容器，它提供了多种构造函数来满足不同的初始化需求。

以下是 `vector` 最常用和重要的几种构造函数，所有示例代码均包含 `using namespace std;`。

### 1. 默认构造函数

创建一个空的 `vector`，不包含任何元素。

**语法：**
```cpp
vector<T> v;
```

**示例：**
```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    vector<int> v1; // 创建一个空的 int 向量
    cout << "v1 的大小: " << v1.size() << endl; // 输出: 0

    vector<string> v2; // 创建一个空的 string 向量
    cout << "v2 的大小: " << v2.size() << endl; // 输出: 0

    return 0;
}
```

### 2. 指定大小和初始值

创建一个包含 `n` 个元素的 `vector`，每个元素的值都是 `val`。如果 `val` 被省略，则使用该类型的默认值（对于基本类型，如 `int`，是 0；对于类类型，是默认构造函数生成的值）。

**语法：**
```cpp
vector<T> v(n);
vector<T> v(n, val);
```

**示例：**
```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    vector<int> v1(5); // 创建包含 5 个整数的向量，每个元素初始化为 0
    for (int num : v1) {
        cout << num << " "; // 输出: 0 0 0 0 0
    }
    cout << endl;

    vector<int> v2(3, 10); // 创建包含 3 个整数的向量，每个元素初始化为 10
    for (int num : v2) {
        cout << num << " "; // 输出: 10 10 10
    }
    cout << endl;

    vector<string> v3(2, "Hello"); // 创建包含 2 个字符串的向量
    for (const string& str : v3) {
        cout << str << " "; // 输出: Hello Hello
    }
    cout << endl;

    return 0;
}
```

### 3. 拷贝构造函数

创建一个新 `vector`，其内容是与另一个 `vector` `other` 完全相同的副本。

**语法：**
```cpp
vector<T> v(other);
```

**示例：**
```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    vector<int> original = {1, 2, 3, 4, 5};
    vector<int> copy(original); // 使用 original 初始化 copy

    cout << "Original: ";
    for (int num : original) {
        cout << num << " ";
    }
    cout << endl;

    cout << "Copy: ";
    for (int num : copy) {
        cout << num << " ";
    }
    cout << endl;

    // 修改副本不会影响原版
    copy[0] = 99;
    cout << "After modifying copy:" << endl;
    cout << "Original[0]: " << original[0] << endl; // 输出: 1
    cout << "Copy[0]: " << copy[0] << endl;         // 输出: 99

    return 0;
}
```

### 4. 范围构造函数

使用迭代器范围 `[first, last)` 中的元素来初始化 `vector`。这是一个非常强大的特性，允许你从其他容器（如数组、`list`、另一个 `vector` 等）的一部分来创建 `vector`。

**语法：**
```cpp
vector<T> v(first_iterator, last_iterator);
```

**示例：**
```cpp
#include <iostream>
#include <vector>
#include <list>
using namespace std;

int main() {
    // 从数组构造
    int arr[] = {10, 20, 30, 40, 50};
    vector<int> v1(arr, arr + 5); // 使用数组的指针作为迭代器
    for (int num : v1) {
        cout << num << " "; // 输出: 10 20 30 40 50
    }
    cout << endl;

    // 从另一个 vector 的一部分构造
    vector<int> source = {1, 2, 3, 4, 5, 6, 7};
    vector<int> v2(source.begin() + 1, source.begin() + 4); // 取第2个到第4个元素（索引1到3）
    for (int num : v2) {
        cout << num << " "; // 输出: 2 3 4
    }
    cout << endl;

    // 从 list 构造
    list<double> myList = {1.1, 2.2, 3.3};
    vector<double> v3(myList.begin(), myList.end());
    for (double num : v3) {
        cout << num << " "; // 输出: 1.1 2.2 3.3
    }
    cout << endl;

    return 0;
}
```

### 5. 初始化列表构造函数 (C++11 起)

这是 C++11 引入的非常方便的语法，直接用花括号 `{}` 内的值列表来初始化 `vector`。

**语法：**
```cpp
vector<T> v = {value1, value2, value3, ...};
// 或者
vector<T> v{value1, value2, value3, ...};
```

**示例：**
```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    // 使用初始化列表
    vector<int> v1 = {1, 3, 5, 7, 9}; // 拷贝列表初始化
    for (int num : v1) {
        cout << num << " "; // 输出: 1 3 5 7 9
    }
    cout << endl;

    vector<string> v2{"Apple", "Banana", "Orange"}; // 直接列表初始化
    for (const string& fruit : v2) {
        cout << fruit << " "; // 输出: Apple Banana Orange
    }
    cout << endl;

    return 0;
}
```

### 6. 移动构造函数 (C++11 起)

“窃取”另一个右值 `vector` `other` 的资源（如内存空间）来初始化新 `vector`。之后，`other` 处于有效但未定义的状态（通常为空）。这比拷贝构造更高效，因为它避免了不必要的内存分配和元素拷贝。

**语法：**
```cpp
vector<T> v(move(other));
```

**示例：**
```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    vector<int> source = {100, 200, 300};
    cout << "Source size before move: " << source.size() << endl; // 输出: 3

    // 使用移动构造函数
    vector<int> destination(move(source));

    cout << "Destination: ";
    for (int num : destination) {
        cout << num << " "; // 输出: 100 200 300
    }
    cout << endl;

    // source 现在处于“被移动”状态，通常为空
    cout << "Source size after move: " << source.size() << endl; // 输出: 0 (通常)

    return 0;
}
```

### 总结表格

| 构造函数         | 语法示例                     | 描述                               |
| :--------------- | :--------------------------- | :--------------------------------- |
| **默认构造**     | `vector<int> v;`             | 创建空向量                         |
| **大小和初始值** | `vector<int> v(5, 10);`      | 创建指定大小，元素为指定值的向量   |
| **拷贝构造**     | `vector<int> v2(v1);`        | 创建另一个向量的完整副本           |
| **范围构造**     | `vector<int> v(arr, arr+3);` | 使用迭代器范围初始化               |
| **初始化列表**   | `vector<int> v{1,2,3};`      | 使用花括号内的值列表初始化 (C++11) |
| **移动构造**     | `vector<int> v2(move(v1));`  | “窃取”右值向量的资源 (C++11)       |

希望这个详细的讲解能帮助你全面理解 C++ `vector` 的构造函数！