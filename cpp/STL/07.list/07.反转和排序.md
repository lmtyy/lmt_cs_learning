在C++中，list容器的反转和排序操作非常方便。以下是详细的代码示例：

## 1. list的反转操作

```cpp
#include <iostream>
#include <list>
using namespace std;

void printList(const list<int>& lst) {
    for (auto it = lst.begin(); it != lst.end(); ++it) {
        cout << *it << " ";
    }
    cout << endl;
}

int main() {
    list<int> myList = {1, 2, 3, 4, 5};
    
    cout << "原始list: ";
    printList(myList);
    
    // 使用reverse()函数反转list
    myList.reverse();
    
    cout << "反转后: ";
    printList(myList);
    
    return 0;
}
```

## 2. list的排序操作

### 基本排序（升序）
```cpp
#include <iostream>
#include <list>
using namespace std;

int main() {
    list<int> myList = {5, 2, 8, 1, 9, 3};
    
    cout << "排序前: ";
    for (int num : myList) {
        cout << num << " ";
    }
    cout << endl;
    
    // 使用sort()函数进行升序排序
    myList.sort();
    
    cout << "升序排序后: ";
    for (int num : myList) {
        cout << num << " ";
    }
    cout << endl;
    
    return 0;
}
```

### 降序排序
```cpp
#include <iostream>
#include <list>
using namespace std;

int main() {
    list<int> myList = {5, 2, 8, 1, 9, 3};
    
    cout << "排序前: ";
    for (int num : myList) {
        cout << num << " ";
    }
    cout << endl;
    
    // 使用greater<int>()进行降序排序
    myList.sort(greater<int>());
    
    cout << "降序排序后: ";
    for (int num : myList) {
        cout << num << " ";
    }
    cout << endl;
    
    return 0;
}
```

## 3. 自定义排序规则

```cpp
#include <iostream>
#include <list>
using namespace std;

// 自定义比较函数
bool customCompare(int a, int b) {
    // 按绝对值大小排序
    return abs(a) < abs(b);
}

// 自定义比较函数对象
struct CustomSorter {
    bool operator()(int a, int b) const {
        // 奇数在前，偶数在后，各自按大小排序
        if (a % 2 == b % 2) {
            return a < b;
        }
        return a % 2 > b % 2;
    }
};

int main() {
    list<int> myList = {-5, 2, -8, 1, 9, -3, 4, 7};
    
    cout << "原始list: ";
    for (int num : myList) {
        cout << num << " ";
    }
    cout << endl;
    
    // 使用自定义比较函数排序
    list<int> list1 = myList;
    list1.sort(customCompare);
    cout << "按绝对值排序: ";
    for (int num : list1) {
        cout << num << " ";
    }
    cout << endl;
    
    // 使用函数对象排序
    list<int> list2 = myList;
    list2.sort(CustomSorter());
    cout << "奇数在前排序: ";
    for (int num : list2) {
        cout << num << " ";
    }
    cout << endl;
    
    return 0;
}
```

## 4. 字符串list的排序

```cpp
#include <iostream>
#include <list>
#include <string>
using namespace std;

int main() {
    list<string> strList = {"banana", "apple", "cherry", "date"};
    
    cout << "排序前: ";
    for (const auto& str : strList) {
        cout << str << " ";
    }
    cout << endl;
    
    // 字符串默认按字典序排序
    strList.sort();
    
    cout << "升序排序后: ";
    for (const auto& str : strList) {
        cout << str << " ";
    }
    cout << endl;
    
    // 字符串降序排序
    strList.sort(greater<string>());
    
    cout << "降序排序后: ";
    for (const auto& str : strList) {
        cout << str << " ";
    }
    cout << endl;
    
    return 0;
}
```

## 5. 综合示例

```cpp
#include <iostream>
#include <list>
#include <string>
using namespace std;

struct Person {
    string name;
    int age;
    
    Person(string n, int a) : name(n), age(a) {}
};

// 按年龄排序的比较函数
bool compareByAge(const Person& a, const Person& b) {
    return a.age < b.age;
}

// 按姓名排序的比较函数
bool compareByName(const Person& a, const Person& b) {
    return a.name < b.name;
}

int main() {
    list<Person> people = {
        {"Alice", 25},
        {"Bob", 30},
        {"Charlie", 20},
        {"Diana", 28}
    };
    
    cout << "原始顺序:" << endl;
    for (const auto& p : people) {
        cout << p.name << " (" << p.age << ")" << endl;
    }
    
    // 按年龄排序
    people.sort(compareByAge);
    cout << "\n按年龄排序:" << endl;
    for (const auto& p : people) {
        cout << p.name << " (" << p.age << ")" << endl;
    }
    
    // 按姓名排序
    people.sort(compareByName);
    cout << "\n按姓名排序:" << endl;
    for (const auto& p : people) {
        cout << p.name << " (" << p.age << ")" << endl;
    }
    
    return 0;
}
```

## 关键点总结：

1. **反转**：使用 `list.reverse()` 方法
2. **排序**：使用 `list.sort()` 方法
3. **默认排序**：升序排列
4. **自定义排序**：可以传入比较函数或函数对象
5. **特点**：list的sort()是成员函数，不是算法库中的std::sort

这些操作的时间复杂度通常是O(n log n)，具体实现取决于编译器的优化。