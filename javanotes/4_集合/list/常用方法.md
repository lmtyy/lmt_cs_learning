# Java List 接口的内置方法和属性

List 是 Java 集合框架中最常用的接口之一，它扩展了 Collection 接口并添加了位置访问等特性。以下是 List 接口的主要方法和属性：

## 1. 核心属性

List 本身是接口，没有公共属性，但它的实现类有一些重要属性：

- **size()** - 返回列表中元素数量（不是属性而是方法）
- **容量** (ArrayList/Vector特有) - 底层数组的当前长度（通过 `ensureCapacity()` 调整）

## 2. 主要操作方法

### 2.1 元素访问方法

| 方法 | 描述 | 示例 |
|------|------|------|
| `E get(int index)` | 获取指定位置的元素 | `String s = list.get(0);` |
| `E set(int index, E element)` | 替换指定位置的元素 | `list.set(1, "new");` |

### 2.2 元素操作

| 方法 | 描述 | 示例 |
|------|------|------|
| `boolean add(E e)` | 添加元素到末尾 | `list.add("item");` |
| `void add(int index, E element)` | 在指定位置插入元素 | `list.add(0, "first");` |
| `boolean addAll(Collection<? extends E> c)` | 添加整个集合 | `list.addAll(otherList);` |
| `E remove(int index)` | 移除指定位置元素 | `String removed = list.remove(0);` |
| `boolean remove(Object o)` | 移除首次出现的指定元素 | `list.remove("item");` |
| `void clear()` | 清空列表 | `list.clear();` |

### 2.3 查询方法

| 方法 | 描述 | 示例 |
|------|------|------|
| `int size()` | 返回元素数量 | `int len = list.size();` |
| `boolean isEmpty()` | 判断是否为空 | `if(list.isEmpty())` |
| `boolean contains(Object o)` | 判断是否包含元素 | `list.contains("key");` |
| `int indexOf(Object o)` | 返回元素首次出现的位置 | `int pos = list.indexOf("A");` |
| `int lastIndexOf(Object o)` | 返回元素最后一次出现的位置 | `int pos = list.lastIndexOf("A");` |

### 2.4 范围操作

| 方法 | 描述 | 示例 |
|------|------|------|
| `List<E> subList(int from, int to)` | 获取子列表视图 | `List<E> sub = list.subList(1, 3);` |
| `boolean retainAll(Collection<?> c)` | 仅保留指定集合中的元素 | `list.retainAll(toKeep);` |

### 2.5 迭代方法

| 方法 | 描述 | 示例 |
|------|------|------|
| `Iterator<E> iterator()` | 返回迭代器 | `for(String s : list)` |
| `ListIterator<E> listIterator()` | 返回列表迭代器 | `ListIterator<E> it = list.listIterator();` |
| `ListIterator<E> listIterator(int index)` | 从指定位置开始的列表迭代器 | `ListIterator<E> it = list.listIterator(2);` |

## 3. Java 8+ 新增的默认方法

| 方法 | 描述 | 示例 |
|------|------|------|
| `void forEach(Consumer<? super E> action)` | 对每个元素执行操作 | `list.forEach(System.out::println);` |
| `boolean removeIf(Predicate<? super E> filter)` | 删除满足条件的元素 | `list.removeIf(s -> s.length() < 3);` |
| `void replaceAll(UnaryOperator<E> operator)` | 替换所有元素 | `list.replaceAll(String::toUpperCase);` |
| `void sort(Comparator<? super E> c)` | 根据比较器排序 | `list.sort(Comparator.naturalOrder());` |

## 4. 实现类特有方法

不同 List 实现类还提供特有方法：

### ArrayList 特有方法
```java
void ensureCapacity(int minCapacity)  // 确保最小容量
void trimToSize()                   // 修剪容量到当前大小
```

### LinkedList 特有方法
```java
void addFirst(E e)                  // 添加到头部
void addLast(E e)                   // 添加到尾部
E getFirst()                        // 获取头部元素
E getLast()                         // 获取尾部元素
```

## 5. 使用示例

```java
List<String> fruits = new ArrayList<>();
// 添加元素
fruits.add("Apple");
fruits.add("Banana");
fruits.add(1, "Orange"); // 在位置1插入

// 访问元素
String first = fruits.get(0);
fruits.set(2, "Mango"); // 替换位置2的元素

// 迭代
for (String fruit : fruits) {
    System.out.println(fruit);
}

// Java 8+ 方式
fruits.forEach(System.out::println);

// 排序
fruits.sort(String.CASE_INSENSITIVE_ORDER);

// 过滤
fruits.removeIf(f -> f.startsWith("A"));
```

## 6. 注意事项

1. 索引从 0 开始，访问越界会抛出 `IndexOutOfBoundsException`
2. `subList()` 返回的是视图，对视图的修改会影响原列表
3. 基本类型需要使用包装类（如 `List<Integer>` 而非 `List<int>`）
4. ArrayList 线程不安全，多线程环境需使用 `Collections.synchronizedList()` 包装

List 接口的这些方法为处理有序集合提供了强大的功能，开发者应根据具体需求选择合适的实现类（ArrayList/LinkedList等）。