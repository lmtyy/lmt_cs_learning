# Java集合与普通数组的区别

Java中的集合(Collections)和数组(Array)都是用来存储多个元素的容器，但它们有显著的不同：

## 主要区别对比

| 特性                | 数组(Array)                          | 集合(Collection)                     |
|---------------------|-------------------------------------|-------------------------------------|
| **大小固定性**       | 长度固定，创建后不能改变             | 动态大小，可自动扩容                 |
| **数据类型**         | 可以存储基本类型和对象类型           | 只能存储对象类型(使用包装类处理基本类型) |
| **功能丰富性**       | 提供基本操作(增删改查)               | 提供丰富操作(排序、搜索、过滤等)       |
| **性能**            | 随机访问快(O(1))                     | 不同实现性能不同(ArrayList O(1), LinkedList O(n)) |
| **线程安全性**       | 不安全                               | 大部分不安全，但有同步包装类           |
| **内存使用**         | 更紧凑                               | 通常需要更多内存(维护额外结构)         |
| **API支持**         | 语言内置，方法有限                   | 丰富的API方法                        |
| **泛型支持**         | 有限支持                             | 完全支持泛型                         |
| **元素唯一性**       | 允许重复                             | 根据实现不同(Set不允许重复)            |
| **有序性**          | 保持插入顺序                         | 根据实现不同(List有序，Set通常无序)    |

## 详细说明

### 1. 大小灵活性

**数组**：长度固定，创建时必须指定大小
```java
int[] arr = new int[5]; // 固定长度为5
```

**集合**：动态扩容
```java
List<Integer> list = new ArrayList<>(); // 初始容量10，自动扩容
list.add(1); // 可以一直添加
```

### 2. 存储内容

**数组**：可以存储基本类型和对象
```java
int[] primitiveArray = new int[3]; // 基本类型
String[] objectArray = new String[3]; // 对象类型
```

**集合**：只能存储对象(使用包装类处理基本类型)
```java
List<Integer> list = new ArrayList<>(); // 必须使用Integer而不是int
```

### 3. 功能方法

**数组**：只有基本的length属性和索引访问
```java
String[] arr = {"A", "B", "C"};
int len = arr.length; // 获取长度
String elem = arr[1]; // 访问元素
```

**集合**：丰富的方法
```java
List<String> list = new ArrayList<>();
list.add("A");
list.add("B");
list.remove("A");
boolean contains = list.contains("B");
int size = list.size();
```

### 4. 使用场景

**适合使用数组的情况**：
- 元素数量固定且已知
- 需要最高性能的随机访问
- 处理基本数据类型
- 内存使用要求严格

**适合使用集合的情况**：
- 元素数量不确定或需要动态变化
- 需要丰富的集合操作
- 需要使用高级数据结构(如Set、Map等)
- 需要泛型支持

## 相互转换

Java中集合和数组可以相互转换：

### 数组转集合
```java
String[] array = {"a", "b", "c"};
List<String> list = Arrays.asList(array); // 固定大小列表
List<String> realList = new ArrayList<>(Arrays.asList(array)); // 可变列表
```

### 集合转数组
```java
List<String> list = new ArrayList<>();
list.add("a");
list.add("b");
String[] array = list.toArray(new String[0]);
```

## 性能考虑

- **数组**：内存连续，访问速度快，适合高性能场景
- **ArrayList**：基于数组实现，随机访问快(O(1))，但插入删除中间元素慢(O(n))
- **LinkedList**：基于链表实现，插入删除快(O(1))，但随机访问慢(O(n))
- **HashSet/HashMap**：基于哈希表，查找快(O(1))，但不保持顺序
- **TreeSet/TreeMap**：基于红黑树，保持排序(O(log n)操作)

选择使用数组还是集合应根据具体需求和场景决定。现代Java开发中，集合框架因其灵活性和丰富的功能而被更广泛使用。