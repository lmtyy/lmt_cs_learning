# Java 设计模式概述

设计模式是软件开发中针对常见问题的可重用解决方案，它们是被广泛认可的、经过验证的最佳实践。在Java中，设计模式帮助开发者编写更灵活、可维护和可扩展的代码。

## 设计模式的三大类别

### 1. 创建型模式
处理对象创建机制，提供灵活的对象创建方式：
- **单例模式(Singleton)**：确保一个类只有一个实例
- **工厂方法(Factory Method)**：定义创建对象的接口，让子类决定实例化哪个类
- **抽象工厂(Abstract Factory)**：创建相关或依赖对象的家族
- **建造者模式(Builder)**：分步骤构建复杂对象
- **原型模式(Prototype)**：通过复制现有对象来创建新对象

### 2. 结构型模式
处理类和对象的组合：
- **适配器模式(Adapter)**：使不兼容接口能够一起工作
- **装饰器模式(Decorator)**：动态添加职责
- **代理模式(Proxy)**：为其他对象提供代理以控制访问
- **外观模式(Facade)**：提供统一的接口
- **桥接模式(Bridge)**：将抽象与实现分离
- **组合模式(Composite)**：将对象组合成树形结构
- **享元模式(Flyweight)**：高效共享大量细粒度对象

### 3. 行为型模式
处理对象间的通信：
- **策略模式(Strategy)**：封装算法，使它们可互换
- **观察者模式(Observer)**：定义对象间的一对多依赖
- **命令模式(Command)**：将请求封装为对象
- **模板方法(Template Method)**：定义算法骨架
- **迭代器模式(Iterator)**：顺序访问集合元素
- **状态模式(State)**：允许对象在状态改变时改变行为
- **责任链模式(Chain of Responsibility)**：将请求沿着处理链传递
- **中介者模式(Mediator)**：集中相关对象间的通信
- **备忘录模式(Memento)**：捕获并外部化对象状态
- **访问者模式(Visitor)**：在不修改类的情况下添加操作
- **解释器模式(Interpreter)**：定义语言的文法表示

## Java中常见设计模式示例

### 单例模式示例
```java
public class Singleton {
    private static Singleton instance;
    
    private Singleton() {}
    
    public static Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}
```

### 工厂模式示例
```java
public interface Shape {
    void draw();
}

public class Circle implements Shape {
    @Override
    public void draw() {
        System.out.println("Drawing Circle");
    }
}

public class ShapeFactory {
    public Shape getShape(String shapeType) {
        if (shapeType == null) return null;
        if (shapeType.equalsIgnoreCase("CIRCLE")) {
            return new Circle();
        }
        return null;
    }
}
```

### 观察者模式示例
```java
import java.util.Observable;
import java.util.Observer;

public class NewsPublisher extends Observable {
    private String news;
    
    public void setNews(String news) {
        this.news = news;
        setChanged();
        notifyObservers(news);
    }
}

public class NewsSubscriber implements Observer {
    @Override
    public void update(Observable o, Object arg) {
        System.out.println("Received news: " + arg);
    }
}
```

设计模式不是银弹，应该根据具体问题选择合适的设计模式，避免过度设计。理解这些模式有助于编写更高质量的Java代码。