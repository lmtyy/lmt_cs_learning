# Java 继承语法详解

继承是面向对象编程的三大特性之一（封装、继承、多态），Java 使用 `extends` 关键字实现继承关系。

## 1. 基本继承语法

```java
class 子类名 extends 父类名 {
    // 子类特有的属性和方法
}
```

### 示例
```java
// 父类
class Animal {
    String name;
    
    public void eat() {
        System.out.println(name + "正在吃东西");
    }
}

// 子类继承父类
class Dog extends Animal {
    public void bark() {
        System.out.println(name + "汪汪叫");
    }
}
```

## 2. 继承的特点

1. **单继承**：Java 只支持单继承，一个类只能直接继承一个父类
2. **多层继承**：可以形成继承层次结构
3. **继承内容**：
   - 继承父类非 private 的成员变量和方法
   - 不继承构造方法，但可以通过 super() 调用

## 3. 方法重写 (Override)

子类可以重写父类的方法：

```java
class Animal {
    public void makeSound() {
        System.out.println("动物发出声音");
    }
}

class Cat extends Animal {
    @Override  // 注解表示重写，推荐添加但不是必须的
    public void makeSound() {
        System.out.println("喵喵叫");
    }
}
```

### 重写规则：
1. 方法名、参数列表必须相同
2. 返回类型可以是父类返回类型的子类（协变返回类型）
3. 访问权限不能比父类更严格
4. 不能抛出比父类更宽泛的异常

## 4. super 关键字

用于访问父类的成员：

```java
class Vehicle {
    int maxSpeed = 120;
}

class Car extends Vehicle {
    int maxSpeed = 180;
    
    void display() {
        System.out.println("子类最大速度: " + maxSpeed);
        System.out.println("父类最大速度: " + super.maxSpeed);
    }
}
```

## 5. 构造方法继承

子类构造方法必须调用父类构造方法：

```java
class Parent {
    Parent() {
        System.out.println("父类构造方法");
    }
}

class Child extends Parent {
    Child() {
        super();  // 必须放在第一行
        System.out.println("子类构造方法");
    }
}
```

### 注意：
1. 如果父类有无参构造方法，`super()` 可以省略（编译器自动添加）
2. 如果父类只有有参构造方法，子类必须显式调用 `super(参数)`

## 6. final 类和方法

- `final class`：不能被继承
- `final method`：不能被子类重写

```java
final class CannotInherit {  // 这个类不能被继承
    final void cannotOverride() {  // 这个方法不能被子类重写
        System.out.println("这是最终方法");
    }
}
```

## 7. 抽象类和继承

```java
abstract class Shape {  // 抽象类
    abstract void draw();  // 抽象方法
}

class Circle extends Shape {
    @Override
    void draw() {  // 必须实现抽象方法
        System.out.println("画圆形");
    }
}
```

## 8. 继承与接口实现的区别

| 特性         | 继承 (extends)           | 接口实现 (implements)    |
|-------------|-------------------------|-------------------------|
| 数量         | 单继承                   | 多实现                   |
| 方法         | 可以继承具体方法           | 只能"继承"抽象方法         |
| 变量         | 继承成员变量              | 只能有静态常量             |
| 关系         | is-a 关系                | can-do 关系              |

## 9. 继承的最佳实践

1. 遵循里氏替换原则：子类应该能够替换父类
2. 不要过度使用继承，优先考虑组合
3. 避免过深的继承层次（通常不超过3层）
4. 使用 `@Override` 注解明确表示重写方法
5. 考虑将通用方法放在父类中

## 10. 完整示例

```java
// 父类
class Employee {
    private String name;
    private double salary;
    
    public Employee(String name, double salary) {
        this.name = name;
        this.salary = salary;
    }
    
    public void work() {
        System.out.println(name + "正在工作");
    }
    
    public final void getPaid() {  // final方法，不能被子类重写
        System.out.println(name + "获得薪水: " + salary);
    }
}

// 子类
class Programmer extends Employee {
    private String language;
    
    public Programmer(String name, double salary, String language) {
        super(name, salary);  // 调用父类构造方法
        this.language = language;
    }
    
    @Override
    public void work() {  // 重写父类方法
        System.out.println(getName() + "正在用" + language + "编程");
    }
    
    public void debug() {  // 子类特有方法
        System.out.println("调试代码");
    }
}

// 使用
public class Main {
    public static void main(String[] args) {
        Programmer p = new Programmer("张三", 15000, "Java");
        p.work();      // 调用重写后的方法
        p.getPaid();   // 调用继承的final方法
        p.debug();     // 调用子类特有方法
    }
}
```

继承是 Java 面向对象编程的核心概念，正确使用继承可以使代码更加结构化、可重用，但也需要注意避免滥用继承导致的设计问题。