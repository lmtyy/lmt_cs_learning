# Java类图知识点详解

类图(Class Diagram)是UML(统一建模语言)中最常用的图之一，用于描述系统中类的静态结构，包括类的属性、方法以及类之间的关系。下面我将详细介绍Java中类图的相关知识。

## 一、类图的基本组成

### 1. 类的表示
在类图中，类用矩形表示，分为三层：
- 第一层：类名（**必须**，通常首字母大写）
- 第二层：属性/字段（可选）
- 第三层：方法/操作（可选）

示例：
```
_______________________
|       Person        |
|---------------------|
| - name: String      |
| - age: int          |
|---------------------|
| + getName(): String |
| + setAge(age: int)  |
|_____________________|
```

### 2. 访问修饰符表示
- `+` public（公共的）
- `-` private（私有的）
- `#` protected（受保护的）
- `~` package/default（包/默认的）

## 二、类之间的关系

### 1. 关联关系 (Association)
表示类之间的连接，用实线箭头表示。

```java
class Student {
    private Course course;
}

class Course {
    //...
}
```

类图表示：
```
Student ——> Course
```

### 2. 聚合关系 (Aggregation)
表示"整体-部分"关系，整体可以独立于部分存在，用空心菱形箭头表示。

```java
class Department {
    private List<Teacher> teachers;
}

class Teacher {
    //...
}
```

类图表示：
```
Department ◇—— Teacher
```

### 3. 组合关系 (Composition)
比聚合更强的"整体-部分"关系，整体不能独立于部分存在，用实心菱形箭头表示。

```java
class Car {
    private Engine engine;
    
    public Car() {
        engine = new Engine();
    }
}

class Engine {
    //...
}
```

类图表示：
```
Car ◆—— Engine
```

### 4. 泛化关系 (Generalization)
即继承关系，用空心三角形箭头表示。

```java
class Animal {
    //...
}

class Dog extends Animal {
    //...
}
```

类图表示：
```
Dog △—— Animal
```

### 5. 实现关系 (Implementation)
类实现接口的关系，用空心三角形虚线箭头表示。

```java
interface Flyable {
    void fly();
}

class Bird implements Flyable {
    public void fly() {
        //...
    }
}
```

类图表示：
```
Bird ╌△—— Flyable
```

### 6. 依赖关系 (Dependency)
一个类使用另一个类，用虚线箭头表示。

```java
class Logger {
    public static void log(String message) {
        //...
    }
}

class UserService {
    public void createUser() {
        Logger.log("User created");
    }
}
```

类图表示：
```
UserService ╌> Logger
```

## 三、类图的绘制规范

1. **命名规范**：类名使用帕斯卡命名法(PascalCase)，属性和方法使用驼峰命名法(camelCase)

2. **属性语法**：
   ```
   可见性 名称: 类型 [= 默认值]
   ```
   示例：`- age: int = 0`

3. **方法语法**：
   ```
   可见性 名称(参数列表): 返回类型
   ```
   示例：`+ setName(name: String): void`

4. **抽象类和接口**：
   - 抽象类名用斜体表示
   - 接口在类名上方加`<<interface>>`标注

## 四、类图示例

```java
// Java代码
public abstract class Animal {
    protected String name;
    
    public abstract void makeSound();
    
    public void sleep() {
        System.out.println("Sleeping...");
    }
}

public class Dog extends Animal implements Pet {
    private String breed;
    
    public void makeSound() {
        System.out.println("Bark!");
    }
    
    public void play() {
        System.out.println("Playing fetch");
    }
}

public interface Pet {
    void play();
}
```

对应的类图：
```
<<interface>>        
_______________________
|        Pet          |
|---------------------|
| + play(): void      |
|_____________________|
       △
       ╌
_______________________       _______________________
|      Animal         |       |       Dog          |
|---------------------|       |---------------------|
| # name: String      |       | - breed: String     |
|---------------------|       |---------------------|
| + makeSound(): void |◁——△——| + makeSound(): void |
| + sleep(): void     |       | + play(): void      |
|_____________________|       |_____________________|
```

## 五、工具推荐

1. **绘图工具**：
   - Visual Paradigm
   - StarUML
   - Lucidchart
   - PlantUML（文本生成类图）
   - IntelliJ IDEA内置类图工具

2. **在线工具**：
   - draw.io
   - Creately
   - Miro

## 六、实际应用建议

1. 在设计阶段先绘制类图，有助于理清系统结构
2. 保持类图的简洁性，不必展示所有细节
3. 重点展示类之间的关系而非具体实现
4. 随着项目进展及时更新类图

掌握类图可以帮助你更好地进行面向对象设计，提高代码的可维护性和可扩展性。建议结合具体项目实践，从简单系统开始练习绘制类图。