# Java包装类的不同初始化操作

Java中的包装类（Wrapper Classes）为8种基本数据类型提供了对象表示。这些包装类有不同的初始化方式，每种方式都有其特点和使用场景。

## 1. 包装类列表

Java中的包装类包括：
- `Byte` - `byte`
- `Short` - `short`
- `Integer` - `int`
- `Long` - `long`
- `Float` - `float`
- `Double` - `double`
- `Character` - `char`
- `Boolean` - `boolean`

## 2. 初始化方式

### 2.1 构造方法初始化（Java 9已废弃）

```java
// 已废弃的方式（Java 9+不推荐）
Integer num1 = new Integer(10);
Double num2 = new Double(10.5);
Character ch = new Character('A');
Boolean flag = new Boolean(true);
```

> **注意**：从Java 9开始，这些构造方法已被标记为`@Deprecated`，推荐使用静态工厂方法`valueOf()`。

### 2.2 静态valueOf()方法（推荐方式）

```java
// 推荐使用方式
Integer num1 = Integer.valueOf(10);       // 基本类型参数
Integer num2 = Integer.valueOf("10");     // 字符串参数
Double num3 = Double.valueOf(10.5);
Double num4 = Double.valueOf("10.5");
Character ch = Character.valueOf('A');
Boolean flag = Boolean.valueOf(true);
Boolean flag2 = Boolean.valueOf("true");
```

### 2.3 自动装箱（Autoboxing）

```java
// 自动装箱（编译器自动转换为valueOf调用）
Integer num1 = 10;         // 等价于Integer.valueOf(10)
Double num2 = 10.5;        // 等价于Double.valueOf(10.5)
Character ch = 'A';        // 等价于Character.valueOf('A')
Boolean flag = true;       // 等价于Boolean.valueOf(true)
```

### 2.4 解析方法（parseXxx）

```java
// 从字符串解析（返回基本类型）
int num1 = Integer.parseInt("10");
double num2 = Double.parseDouble("10.5");
boolean flag = Boolean.parseBoolean("true");
```

## 3. 缓存机制

某些包装类实现了缓存优化：

### 3.1 Integer缓存（-128到127）

```java
Integer a = 127;
Integer b = 127;
System.out.println(a == b); // true（使用缓存）

Integer c = 128;
Integer d = 128;
System.out.println(c == d); // false（超出缓存范围）
```

### 3.2 Boolean缓存

```java
Boolean a = true;
Boolean b = true;
System.out.println(a == b); // true（总是使用缓存）
```

### 3.3 Character缓存（0到127）

```java
Character a = 127;
Character b = 127;
System.out.println(a == b); // true

Character c = 128;
Character d = 128;
System.out.println(c == d); // false
```

## 4. 特殊注意事项

### 4.1 比较操作

```java
Integer a = 1000;
Integer b = 1000;
System.out.println(a == b);      // false（引用比较）
System.out.println(a.equals(b)); // true（值比较）
```

### 4.2 空指针风险

```java
Integer a = null;
int b = a; // 运行时抛出NullPointerException（自动拆箱）
```

### 4.3 性能考虑

```java
// 不好的做法（创建多余对象）
for (int i = 0; i < 10000; i++) {
    Integer num = new Integer(i); // 每次创建新对象
}

// 好的做法（利用缓存）
for (int i = 0; i < 10000; i++) {
    Integer num = i; // 自动装箱，可能使用缓存
}
```

## 5. 最佳实践

1. **优先使用valueOf()**，而非构造方法
2. **注意缓存范围**，不要依赖`==`比较
3. **基本类型优先**，包装类只在必要时使用
4. **注意空指针**，包装类可能为null
5. **大量计算时**使用基本类型避免自动装箱开销

理解包装类的不同初始化方式及其特性，可以帮助你编写更高效、更健壮的Java代码。