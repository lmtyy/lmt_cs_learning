## 几个算数模块

好的，下面我将具体介绍Python中几个常用计算模块的主要函数及其作用，方便你理解和使用。

---

### 1. math模块

`math`模块包含了很多基础数学函数，适合处理实数的数学计算。

| 函数                              | 说明                                 | 示例                                |
| --------------------------------- | ------------------------------------ | ----------------------------------- |
| `math.sqrt(x)`                    | 计算平方根                           | `math.sqrt(4)  # 2.0`               |
| `math.factorial(x)`               | 阶乘，x应为非负整数                  | `math.factorial(5)  # 120`          |
| `math.pow(x, y)`                  | 幂运算，x的y次方                     | `math.pow(2, 3)  # 8.0`             |
| `math.exp(x)`                     | 计算e的x次方                         | `math.exp(1)  # 2.718281828...`     |
| `math.log(x[, base])`             | 对数，如果不指定base，默认是自然对数 | `math.log(8, 2)  # 3.0`             |
| `math.sin(x)`, `cos(x)`, `tan(x)` | 三角函数，x为弧度                    | `math.sin(math.pi/2)  # 1.0`        |
| `math.degrees(x)`                 | 弧度转角度                           | `math.degrees(math.pi)  # 180.0`    |
| `math.radians(x)`                 | 角度转弧度                           | `math.radians(180)  # 3.1415926535` |
| `math.ceil(x)`                    | 向上取整                             | `math.ceil(4.2)  # 5`               |
| `math.floor(x)`                   | 向下取整                             | `math.floor(4.8)  # 4`              |
| `math.fabs(x)`                    | 计算绝对值                           | `math.fabs(-5)  # 5.0`              |
| `math.gcd(a, b)`                  | 计算最大公约数                       | `math.gcd(12, 18)  # 6`             |

---

### 2. cmath模块

专门用于复数运算，函数与math模块类似，但参数和返回值支持复数。

| 函数                               | 说明                           | 示例                                       |
| ---------------------------------- | ------------------------------ | ------------------------------------------ |
| `cmath.sqrt(x)`                    | 复数平方根                     | `cmath.sqrt(-1)  # 1j`                     |
| `cmath.exp(x)`                     | e的x次方                       | `cmath.exp(1+1j)`                          |
| `cmath.log(x[, base])`             | 复数对数                       | `cmath.log(1+1j)`                          |
| `cmath.sin(x)`, `cos(x)`, `tan(x)` | 复数三角函数                   | `cmath.sin(1+1j)`                          |
| `cmath.phase(x)`                   | 计算复数的相位角（弧度）       | `cmath.phase(1+1j)  # 0.785398...`         |
| `cmath.polar(x)`                   | 返回复数的极坐标（幅度, 相位） | `cmath.polar(1+1j)  # (1.414, 0.785)`      |
| `cmath.rect(r, phi)`               | 极坐标转矩形坐标               | `cmath.rect(1, math.pi/4)  # 0.707+0.707j` |

---

### 3. decimal模块

`decimal`用于高精度十进制数运算，避免浮点数计算误差。

主要类及方法：

| 类 / 方法        | 说明                             | 示例                                                 |
| ---------------- | -------------------------------- | ---------------------------------------------------- |
| `Decimal(value)` | 创建一个高精度十进制数           | `Decimal('0.1')`                                     |
| `.quantize(exp)` | 将Decimal四舍五入到指定精度      | `Decimal('2.345').quantize(Decimal('0.01'))  # 2.35` |
| `.sqrt()`        | 计算平方根                       | `Decimal('4').sqrt()  # Decimal('2')`                |
| 上下文控制       | 使用`getcontext()`设置精度等属性 | `getcontext().prec = 28`                             |

示例：

```python
from decimal import Decimal, getcontext
getcontext().prec = 10  # 设置精度
a = Decimal('0.1')
b = Decimal('0.2')
print(a + b)  # 输出：0.3
```

---

### 4. fractions模块

处理分数，能够表示精确的分数计算，避免浮点误差。

主要类及方法：

| 类 / 方法                                    | 说明                | 示例                                        |
| -------------------------------------------- | ------------------- | ------------------------------------------- |
| `Fraction(numerator, denominator)`           | 创建分数            | `Fraction(1, 3)`                            |
| 支持算术运算                                 | 支持 + - * / 等运算 | `Fraction(1,3) + Fraction(1,6)  # 1/2`      |
| `limit_denominator(max_denominator=1000000)` | 限制分母最大值      | `Fraction(3.14159).limit_denominator(1000)` |

示例：

```python
from fractions import Fraction
f1 = Fraction(1, 3)
f2 = Fraction(1, 6)
print(f1 + f2)  # 输出：1/2
```

---

### 5. random模块

生成伪随机数。

主要方法：

| 函数                           | 说明                              | 示例                           |
| ------------------------------ | --------------------------------- | ------------------------------ |
| `random.random()`              | 返回[0.0, 1.0)之间的随机浮点数    | `random.random()`              |
| `random.randint(a, b)`         | 返回[a, b]之间的随机整数          | `random.randint(1, 10)`        |
| `random.uniform(a, b)`         | 返回[a, b)之间的随机浮点数        | `random.uniform(1.0, 2.0)`     |
| `random.choice(seq)`           | 从序列seq中随机返回一个元素       | `random.choice(['a','b','c'])` |
| `random.shuffle(seq)`          | 将序列seq中的元素随机排列         | `random.shuffle(mylist)`       |
| `random.sample(population, k)` | 从总体中随机选出k个元素（无重复） | `random.sample(range(100), 5)` |

---

### 6. statistics模块

用于统计量的计算。

主要函数：

| 函数             | 功能                         | 示例                                  |
| ---------------- | ---------------------------- | ------------------------------------- |
| `mean(data)`     | 计算算术平均值               | `statistics.mean([1,2,3])  # 2`       |
| `median(data)`   | 中位数                       | `statistics.median([1,2,3,4])  # 2.5` |
| `mode(data)`     | 众数，序列中出现频率最高的值 | `statistics.mode([1,1,2,3])  # 1`     |
| `stdev(data)`    | 样本标准差                   | `statistics.stdev([1,2,3,4,5])`       |
| `variance(data)` | 方差                         | `statistics.variance([1,2,3,4,5])`    |

---

### 7. numpy库（第三方）

numpy是Python科学计算的核心库，强大的多维数组处理能力和丰富的数学函数。

常用函数示例如下：

| 函数                            | 功能                       | 示例                                                    |
| ------------------------------- | -------------------------- | ------------------------------------------------------- |
| `np.array(object)`              | 创建数组                   | `np.array([1,2,3])`                                     |
| `np.sum(arr)`                   | 数组元素求和               | `np.sum([1,2,3])  # 6`                                  |
| `np.mean(arr)`                  | 计算均值                   | `np.mean([1,2,3])  # 2.0`                               |
| `np.median(arr)`                | 中位数                     | `np.median([1,3,2])  # 2.0`                             |
| `np.std(arr)`                   | 标准差                     | `np.std([1,2,3])`                                       |
| `np.dot(a, b)`                  | 矩阵点乘                   | `np.dot([1, 2], [3, 4])  # 11`                          |
| `np.linalg.inv(a)`              | 矩阵求逆                   | `np.linalg.inv(np.array([[1,2],[3,4]]))`                |
| `np.linspace(start, stop, num)` | 生成指定数量的均匀间隔数值 | `np.linspace(0,1,5)`  # array([0, 0.25, 0.5, 0.75, 1])` |

---

### 8. scipy库（第三方）

scipy基于numpy，提供更多科学计算模块：

- `scipy.optimize`：优化算法
- `scipy.integrate`：积分计算
- `scipy.interpolate`：插值
- `scipy.linalg`：线性代数扩展
- `scipy.fft`：傅里叶变换

示例：求函数的积分

```python
from scipy.integrate import quad
result, error = quad(lambda x: x**2, 0, 1)
print(result)  # 0.3333...
```

---

