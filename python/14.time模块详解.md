## `time` 模块详解

---

### 1. 模块简介

`time`模块提供了对时间相关的函数支持，包含获取当前时间、暂停程序执行、处理时间戳、格式化时间等功能。它主要基于操作系统的时间接口，是Python标准库处理时间的基础模块之一。

---

### 2. 主要功能

#### 2.1 时间获取

- `time.time()`  
  返回当前时间的时间戳（自1970年1月1日UTC起的秒数），浮点数类型。

- `time.localtime([secs])`  
  把时间戳转换为本地时间的时间元组（`time.struct_time`），不传参即获取当前时间。

- `time.gmtime([secs])`  
  把时间戳转换为UTC时间的时间元组。

- `time.ctime([secs])`  
  把时间戳转换为可读字符串形式的本地时间，如 `'Mon Jun 10 15:30:00 2024'`。

---

#### 2.2 时间格式化与解析

- `time.strftime(format[, t])`  
  将时间元组或当前时间按指定格式转换为字符串。

- `time.strptime(string[, format])`  
  将字符串按指定格式解析成时间元组。

---

#### 2.3 程序休眠

- `time.sleep(secs)`  
  让程序挂起指定秒数（浮点数），常用于延时操作。

---

#### 2.4 计时器和性能测量（Python3）

- `time.perf_counter()`  
  返回一个高精度计时器，适合测量短时间间隔（包含睡眠时间）。

- `time.process_time()`  
  返回进程执行时间，不包含睡眠时间。

---

### 3. 常用数据结构

- `time.struct_time`  
  是一个类似元组的对象，包含9个元素：

  | 属性     | 说明                   |
  | -------- | ---------------------- |
  | tm_year  | 年（如2024）           |
  | tm_mon   | 月（1-12）             |
  | tm_mday  | 日（1-31）             |
  | tm_hour  | 时（0-23）             |
  | tm_min   | 分（0-59）             |
  | tm_sec   | 秒（0-61，包含闰秒）   |
  | tm_wday  | 星期（0周一 - 6周日）  |
  | tm_yday  | 一年中的天数（1-366）  |
  | tm_isdst | 夏令时标志（0或1或-1） |

---

### 4. 主要函数用法示例

#### 4.1 当前时间戳和时间元组

```python
import time

ts = time.time()
print(f"时间戳: {ts}")

local = time.localtime(ts)
print(f"本地时间: {local}")
print(f"年: {local.tm_year}, 月: {local.tm_mon}, 日: {local.tm_mday}")
```

#### 4.2 格式化时间

```python
formatted = time.strftime("%Y-%m-%d %H:%M:%S", time.localtime())
print(f"格式化当前时间: {formatted}")
```

#### 4.3 解析字符串为时间

```python
time_str = "2024-06-10 15:30:00"
parsed = time.strptime(time_str, "%Y-%m-%d %H:%M:%S")
print(f"解析后的时间元组: {parsed}")
```

#### 4.4 程序休眠

```python
print("开始计时")
time.sleep(2)  # 程序暂停2秒
print("2秒后继续")
```

#### 4.5 计时器示例

```python
start = time.perf_counter()
# 模拟耗时操作
time.sleep(1.5)
end = time.perf_counter()
print(f"操作时间: {end - start}秒")
```

---

### 5. 常见时间格式化符号

| 格式符号 | 说明           | 示例   |
| -------- | -------------- | ------ |
| `%Y`     | 四位数年份     | 2024   |
| `%m`     | 月份 (01-12)   | 06     |
| `%d`     | 日 (01-31)     | 10     |
| `%H`     | 24小时 (00-23) | 15     |
| `%M`     | 分钟 (00-59)   | 30     |
| `%S`     | 秒 (00-59)     | 00     |
| `%a`     | 周几缩写       | Mon    |
| `%A`     | 周几全称       | Monday |
| `%b`     | 月份缩写       | Jun    |
| `%B`     | 月份全称       | June   |

---

### 6. 其他说明

- 时间戳和`datetime`模块的时间对象可以相互转换，`time`模块主要更底层，`datetime`模块功能更丰富。
- 不同操作系统对一些函数的支持可能有细微差别，如闰秒处理等。

---

### 7. 小结

`time`模块是Python中进行时间管理的基础模块，提供了：

- 时间戳获取与转换
- 时间结构体（`struct_time`）
- 时间格式化与解析
- 程序延时和计时

