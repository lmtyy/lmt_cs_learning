---



## 继承详解

---

### 一、什么是继承？

继承是面向对象编程（OOP）的核心特性之一，指**子类继承父类的属性和方法**，获得父类的功能，同时可以扩展新的功能或者重写父类已有的方法。

通过继承，可以实现代码复用，方便构建类的层次结构，提高程序的模块化和可维护性。

---

### 二、Python中继承的基本语法

```python
class 父类名:
    # 父类属性和方法

class 子类名(父类名):
    # 子类新增或重写的属性和方法
```

---

#### 示例：

```python
# 父类
class Animal:
    def __init__(self, name):
        self.name = name

    def speak(self):
        print(f"{self.name} 正在发出声音")

# 子类继承Animal
class Dog(Animal):
    def speak(self):
        print(f"{self.name} 叫：汪汪汪")

dog = Dog("小白")
dog.speak()  # 输出：小白 叫：汪汪汪
```

---

### 三、继承的特点和用法

#### 1. 子类会自动获得父类的属性和方法

子类可以直接使用父类中定义的属性和方法，无需重复定义。

```python
class Bird(Animal):
    pass

bird = Bird("小鸟")
bird.speak()  # 调用父类Animal的方法，输出“小鸟 正在发出声音”
```

#### 2. 子类可以重写父类的方法（方法重写）

子类定义了与父类同名的方法，会覆盖掉父类的方法，调用的是子类的方法。

```python
class Cat(Animal):
    def speak(self):
        print(f"{self.name} 叫：喵喵喵")

cat = Cat("小花")
cat.speak()  # 小花 叫：喵喵喵
```

#### 3. 使用`super()`调用父类方法

子类在重写父类方法时，仍想调用父类的方法，可以使用`super()`。

```python
class Bird(Animal):
    def speak(self):
        super().speak()  # 调用父类的方法
        print(f"{self.name} 正在唱歌")

bird = Bird("小鸟")
bird.speak()
# 输出：
# 小鸟 正在发出声音
# 小鸟 正在唱歌
```

---

### 四、多重继承

Python支持多继承，一个子类可以继承多个父类：

```python
class Flyable:
    def fly(self):
        print("能飞")

class Swimmable:
    def swim(self):
        print("能游泳")

class Duck(Animal, Flyable, Swimmable):
    pass

duck = Duck("小鸭")
duck.fly()   # 能飞
duck.swim()  # 能游泳
duck.speak() # 继承自Animal，输出：小鸭 正在发出声音
```

---

### 五、继承中的方法解析顺序（MRO）

- Python采用**广度优先搜索（C3算法）**计算继承链的查找顺序，即方法解析顺序（Method Resolution Order，MRO）。
- 可以通过`类名.__mro__`或`help(类名)`查看。

示例：

```python
print(Duck.__mro__)
```

---

### 六、总结

| 继承特性      | 说明                                   |
| ------------- | -------------------------------------- |
| 继承          | 子类获得父类属性和方法，复用代码       |
| 方法重写      | 子类重写父类方法，改变行为             |
| `super()`调用 | 在子类中调用父类方法，复用父类逻辑     |
| 多重继承      | 支持同时继承多个类，具备多个父类的功能 |
| MRO           | 方法解析顺序，决定调用哪个类的方法     |

---

### 七、完整示例代码

```python
class Animal:
    def __init__(self, name):
        self.name = name

    def speak(self):
        print(f"{self.name} 正在发出声音")

class Dog(Animal):
    def speak(self):
        print(f"{self.name} 叫：汪汪汪")

    def fetch(self):
        print(f"{self.name} 正在取回投掷的东西")

dog = Dog("小黑")
dog.speak()  # 小黑 叫：汪汪汪
dog.fetch()  # 小黑 正在取回投掷的东西
```