## 类

---

### 一、类的定义和本质

#### 1. 什么是类？

类是面向对象编程（OOP）中的核心概念，简单来说，**类是创建对象的模板或蓝图**。它定义了一组属性（变量）和方法（函数），这些属性和方法描述了一类事物的特点（数据）和行为（功能）。

举例：  

- “人”可以是一个类，它包含姓名、年龄等属性，走路、说话等方法。  
- “车”是另一个类，包含品牌、颜色、速度属性，启动、加速方法。

#### 2. 类的本质

在Python中，类本质上是一个对象——**类本身也是一个对象**，这个对象叫做“类对象”，用来创建其实例对象。

---

### 二、Python中如何定义类？

#### 语法格式

```python
class ClassName:
    """类的文档字符串（可选）"""
    # 属性和方法定义
```

示例：

```python
class Person:
    """表示一个人的简单类"""

    def __init__(self, name, age):
        # 构造方法，初始化实例属性
        self.name = name
        self.age = age

    def introduce(self):
        # 实例方法
        print(f"我是{self.name}，今年{self.age}岁。")
```

---

### 三、类的组成部分

#### 1. 类名

- 通常用大写字母开头的驼峰命名法（PascalCase），比如`Person`、`Car`。

#### 2. 类属性（类变量）

- 属于类对象的属性，所有实例对象共享。

```python
class Dog:
    species = "Canis familiaris"  # 类属性，所有Dog实例共享
```

#### 3. 实例属性（实例变量）

- 属于实例（对象）的变量，每个对象有自己的值。

```python
def __init__(self, name):
    self.name = name
```

#### 4. 方法（Method）

- 定义在类内部的函数，用来实现行为和功能。方法第一个参数约定是`self`，它代表调用该方法的实例。

---

### 四、创建对象（实例）

类定义完后，可以通过调用类名创建对象。

```python
p1 = Person("Alice", 30)
p2 = Person("Bob", 25)

p1.introduce()  # 输出：我是Alice，今年30岁。
p2.introduce()  # 输出：我是Bob，今年25岁。
```

这里的`p1`和`p2`就是`Person`类的实例。

---

### 五、详细解析关键部分

#### 1. `__init__`方法（构造函数）

- 当创建实例时自动调用，用于初始化实例的属性。相当于“构造器”。

- 参数`self`表示当前实例本身，“self”是Python的约定，但不是关键字，可以换名称，不推荐更改。

```python
def __init__(self, name, age):
    self.name = name
    self.age = age
```

#### 2. `self`参数

- 表示当前对象的引用，Python中定义实例方法时必须有`self`作为第一个参数，调用时由Python自动传入。

- 通过`self`访问实例属性和其他方法。

---

### 六、类属性与实例属性区别

```python
class Cat:
    species = "Felis catus"  # 类属性，所有实例共享

    def __init__(self, name):
        self.name = name     # 实例属性，实例独有
```

示例：

```python
c1 = Cat("Mimi")
c2 = Cat("Titi")

print(c1.species)  # Felis catus
print(c2.species)  # Felis catus

Cat.species = "New Species"

print(c1.species)  # New Species
```

类属性属于类，修改会影响所有实例；实例属性属于每个对象，互相独立。

---

### 七、类的内置属性和方法

Python的类有一些特殊的内置属性和方法，比如：

- `__dict__`：查看类或实例的属性字典
- `__doc__`：类的文档字符串
- `__module__`：类定义所在模块
- `__class__`：对象所属的类

示例：

```python
print(Person.__doc__)
print(p1.__class__)
print(p1.__dict__)
```

---

### 八、类的继承与扩展（简单介绍）

类可以通过继承扩展已有类，创建子类获得父类的属性和方法。

```python
class Student(Person):
    def __init__(self, name, age, student_id):
        super().__init__(name, age)  # 调用父类构造器
        self.student_id = student_id

    def introduce(self):
        super().introduce()
        print(f"我的学号是{self.student_id}")
```

---

### 九、类的作用和优点总结

- **抽象现实世界事物**：将相关数据和行为封装成逻辑上的对象。
- **实现封装**：隐藏内部实现细节，外部通过接口访问。
- **支持继承与复用**：减少代码冗余，提高可维护性。
- **方便组织大型程序**：面向对象的方法有助于结构化复杂程序。

---

### 十、完整示例

```python
class Car:
    wheels = 4  # 类属性

    def __init__(self, make, model):
        self.make = make    # 实例属性
        self.model = model

    def display_info(self):
        print(f"这是{self.make}品牌的{self.model}，有{Car.wheels}个轮子。")

car1 = Car("丰田", "凯美瑞")
car2 = Car("特斯拉", "Model S")

car1.display_info()  # 输出：这是丰田品牌的凯美瑞，有4个轮子。
car2.display_info()  # 输出：这是特斯拉品牌的Model S，有4个轮子。
```

---

## 