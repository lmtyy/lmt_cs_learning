## 数据类型归纳

Python 的数据类型可以分为两大类：**内置数据类型**和**自定义数据类型**。我们主要关注内置数据类型，它们又可以分为**可变数据类型**和**不可变数据类型**。

### 核心概念：可变 vs. 不可变

*   **不可变数据类型**： 对象创建后，其值（内容）不能被改变。如果尝试改变，Python 实际上会创建一个新的对象。
    *   优点：线程安全，可以作为字典的键。
    *   包括：数字（int, float, complex）、字符串（str）、元组（tuple）、布尔值（bool）、冻结集合（frozenset）。
*   **可变数据类型**： 对象创建后，其值（内容）可以被修改，而对象的身份（id）保持不变。
    *   优点：易于进行动态数据操作。
    *   包括：列表（list）、字典（dict）、集合（set）、字节数组（bytearray）。

---

### 一、数字类型

用于存储数值。

1. **整型**

   * **关键字**： `int`

   * **描述**： 表示正整数、负整数和零。在 Python 3 中，`int` 可以表示任意大的整数。

   * **是否可变**： 不可变

   * **示例**：

     ```python
     a = 10
     b = -5
     c = 0
     d = 9999999999999999999999999999  # 非常大的整数
     ```

2. **浮点型**

   * **关键字**： `float`

   * **描述**： 表示带有小数点的实数，也可以用科学计数法表示。

   * **是否可变**： 不可变

   * **示例**：

     ```python
     a = 3.14
     b = -0.5
     c = 2.0
     d = 4.5e-3  # 科学计数法，表示 0.0045
     ```

3. **复数**

   * **关键字**： `complex`

   * **描述**： 由实部和虚部组成，虚部以 `j` 或 `J` 结尾。

   * **是否可变**： 不可变

   * **示例**：

     ```python
     a = 3 + 4j
     b = 5J
     print(a.real)  # 输出实部：3.0
     print(a.imag)  # 输出虚部：4.0
     ```

4. **布尔型**

   * **关键字**： `bool`

   * **描述**： 是 `int` 的子类，只有两个值：`True` 和 `False`。在数值上下文中，`True` 为 1，`False` 为 0。

   * **是否可变**： 不可变

   * **示例**：

     ```python
     is_active = True
     is_empty = False
     print(True + 1)  # 输出：2
     ```

---

### 二、序列类型

元素按顺序排列的可迭代对象。

1. **字符串**

   * **关键字**： `str`

   * **描述**： 由 Unicode 字符组成的不可变序列，用于表示文本。可以用单引号 `' '`、双引号 `" "` 或三引号 `''' '''` / `""" """` 定义。

   * **是否可变**： 不可变

   * **示例**：

     ```python
     s1 = 'hello'
     s2 = "world"
     s3 = '''多行
     字符串'''
     # 字符串操作
     print(s1 + ' ' + s2)  # 拼接：'hello world'
     print(s1[0])         # 索引：'h'
     print(s1[1:4])       # 切片：'ell'
     ```

2. **列表**

   * **关键字**： `list`

   * **描述**： 由一系列按特定顺序排列的元素组成的**可变**序列。元素可以是任何类型，用方括号 `[]` 表示。

   * **是否可变**： 可变

   * **示例**：

     ```python
     my_list = [1, 'a', 3.14, [1, 2]]
     # 列表操作
     my_list[0] = 100     # 修改元素
     my_list.append('new') # 追加元素
     my_list.pop()        # 移除末尾元素
     print(my_list[1:3])  # 切片：['a', 3.14]
     ```

3. **元组**

   * **关键字**： `tuple`

   * **描述**： 与列表类似，但它是**不可变**序列。用圆括号 `()` 表示。常用于保证数据不会被意外修改。

   * **是否可变**： 不可变

   * **示例**：

     ```python
     my_tuple = (1, 'a', 3.14)
     # 元组操作（不能修改）
     print(my_tuple[1])   # 索引：'a'
     print(my_tuple + (4, 5)) # 拼接：(1, 'a', 3.14, 4, 5)
     # 单个元素的元组需要一个逗号
     single_tuple = (1,)
     ```

---

### 三、映射类型

通过键（key）来访问值（value）的集合。

1. **字典**

   * **关键字**： `dict`

   * **描述**： 一种**可变**的键值对集合。键必须是不可变类型（如字符串、数字、元组），值可以是任意类型。字典是无序的（Python 3.7+ 开始，官方确认其插入顺序被保留，但本质仍视为无序）。

   * **是否可变**： 可变

   * **示例**：

     ```python
     my_dict = {'name': 'Alice', 'age': 25, 1: 'number'}
     # 字典操作
     my_dict['age'] = 26      # 修改值
     my_dict['city'] = 'NYC'  # 添加新键值对
     del my_dict[1]           # 删除键值对
     print(my_dict['name'])   # 通过键访问值：'Alice'
     print('age' in my_dict)  # 检查键是否存在：True
     ```

---

### 四、集合类型

由不重复元素组成的无序集。

1. **集合**

   * **关键字**： `set`

   * **描述**： **可变**的无序集合，元素不重复。主要用于成员测试、去重和集合运算（并集、交集等）。用花括号 `{}` 表示，但创建空集合必须用 `set()`。

   * **是否可变**： 可变

   * **示例**：

     ```python
     my_set = {1, 2, 3, 3, 2}  # 去重后为 {1, 2, 3}
     # 集合操作
     my_set.add(4)        # 添加元素
     my_set.remove(2)     # 移除元素
     other_set = {3, 4, 5}
     print(my_set | other_set)   # 并集：{1, 3, 4, 5}
     print(my_set & other_set)   # 交集：{3, 4}
     ```

2. **冻结集合**

   * **关键字**： `frozenset`

   * **描述**： **不可变**版本的集合。因此，它可以作为字典的键或另一个集合的元素。

   * **是否可变**： 不可变

   * **示例**：

     ```python
     my_frozenset = frozenset([1, 2, 3])
     # 不能进行 add/remove 等修改操作
     # 可以作为字典的键
     dict_with_fs_key = {my_frozenset: 'value'}
     ```

---

### 五、二进制类型

用于处理二进制数据。

1. **字节**

   * **关键字**： `bytes`

   * **描述**： 由字节（0-255）组成的**不可变**序列。用前缀 `b` 表示。

   * **是否可变**： 不可变

   * **示例**：

     ```python
     b = b'hello'
     print(b[0])  # 输出：104 (字母 'h' 的 ASCII 码)
     ```

2. **字节数组**

   * **关键字**： `bytearray`

   * **描述**： 与 `bytes` 类似，但它是**可变**的。

   * **是否可变**： 可变

   * **示例**：

     ```python
     ba = bytearray(b'hello')
     ba[0] = 106  # 修改第一个字节
     print(ba)    # 输出：bytearray(b'jello')
     ```

3. **内存视图**

   * **关键字**： `memoryview`

   * **描述**： 允许代码访问对象的内部数据而无需复制，用于高性能编程。

   * **示例**：

     ```python
     b = b'abcdef'
     mv = memoryview(b)
     print(mv[1])  # 输出：98
     ```

---

### 六、None 类型

表示一个空值或没有值的概念。

* **关键字**： `NoneType` (类型)，`None` (唯一值)

* **描述**： 只有一个值 `None`。通常用于初始化变量或表示函数没有返回值。

* **是否可变**： 不可变

* **示例**：

  ```python
  var = None
  def my_func():
      print("This function returns None")
  result = my_func()
  print(result is None)  # 输出：True
  ```

---

### 总结表格

| 类型名称 | 关键字 | 是否可变 | 描述 | 示例 |
| ：--- | :--- | :--- | :--- | :--- |
| **整型** | `int` | 不可变 | 整数 | `a = 100` |
| **浮点型** | `float` | 不可变 | 浮点数 | `b = 3.14` |
| **复数** | `complex` | 不可变 | 复数 | `c = 1+2j` |
| **布尔型** | `bool` | 不可变 | 逻辑值 | `d = True` |
| **字符串** | `str` | 不可变 | 文本序列 | `s = “hello”` |
| **列表** | `list` | **可变** | 通用序列 | `l = [1, ‘a’]` |
| **元组** | `tuple` | 不可变 | 不可变序列 | `t = (1, ‘a’)` |
| **字典** | `dict` | **可变** | 键值对映射 | `d = {‘key’： ‘value’}` |
| **集合** | `set` | **可变** | 无序不重复集 | `s = {1, 2, 3}` |
| **冻结集合** | `frozenset` | 不可变 | 不可变集合 | `fs = frozenset([1,2])` |
| **字节** | `bytes` | 不可变 | 二进制序列 | `b = b’abc’` |
| **字节数组** | `bytearray` | **可变** | 可变二进制序列 | `ba = bytearray(b’abc’)` |
| **空类型** | `NoneType` | 不可变 | 空值 | `n = None` |

